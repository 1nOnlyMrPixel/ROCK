<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "JetBrains Mono";
        }

        button {
            height: 150px;
            width: 150px;
            font-size: 80px;
            border-radius: 120px;
        }

        .computerContainer button {
            border-radius: 20px;
        }

        .container {
            display: flex;
            height: 200px;
            width: 100vw;
            align-items: center;
            justify-content: center;
            justify-content: space-evenly;
        }

        .score-board {
            display: flex;
            flex-direction: column;
            height: 100px;
            width: 100vw;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-sizing: border-box;
        }

        .score-board p {
            font-weight: 600;
            font-size: 18px;
        }

        .computerContainer {
            display: flex;
            height: 200px;
            width: 100vw;
            align-items: center;
            justify-content: center;
            justify-content: space-evenly;
        }
    </style>
</head>

<body>

    <div class="computerContainer">
        <button id="computer-rock">ü™®</button>
        <button id="computer-paper">üßª</button>
        <button id="computer-scissor">‚úÇÔ∏è</button>
    </div>
    <div class="container">
        <button id="rock">ü™®</button>
        <button id="paper">üßª</button>
        <button id="scissor">‚úÇÔ∏è</button>
    </div>
    <div class="score-board">
        <h1>Score</h1>
        <p>Computer: <span id="computer-score">0</span><br>
            User: <span id="user-score">0</span>
        </p>
    </div>

    <script>

        const computer_score = document.querySelector("#computer-score");
        const user_score = document.querySelector("#user-score");

        function resetScore()
        {
            resetButtonColor();
            humanScore=0;
            computerScore=0;
            computer_score.textContent = computerScore;
            user_score.textContent = humanScore;
        }

        function resetButtonColor() {
            const allButtons = Array.from(document.querySelectorAll("button"));
            allButtons.forEach(function (e) {
                e.style.backgroundColor = "#E9E9ED";
            })
        }
        function animateWinnerButtonColor(e) {
            e.style.backgroundColor = "#64E27C";
        }
        function animateLoserButtonColor(e) {
            e.style.backgroundColor = "#EB7145";
        }
        function animateTieButtonColor(e) {
            e.style.backgroundColor = "#E7E610";
        }

        const container = document.querySelector(".container");
        container.addEventListener("click", function (e) {
            resetButtonColor();
            let winner;
            if (e.target.id === "rock" || e.target.id === "paper" || e.target.id === "scissor") {
                winner = playRound(e.target.id);
                if (winner === "user") {
                    console.log("User Won this Round");
                    humanScore++;
                    animateWinnerButtonColor(e.target);
                }
                else if (winner === "computer") {
                    console.log("Computer Won this Round");
                    computerScore++;
                    animateLoserButtonColor(e.target);
                }
                else if (winner === "tie") {
                    animateTieButtonColor(e.target);
                    console.log("This Round has been Tied");
                }
                else if (winner === "invalid") {
                    console.log("Invalid Input by the user");
                    i--;
                }
                computer_score.textContent = computerScore;
                user_score.textContent = humanScore;
            }
        }
        );



        console.log("Hello World!!!");

        //Global Variables
        let humanScore = 0;
        let computerScore = 0;

        //Get Computer Choice

        function getComputerChoice() {
            let choiceComputer = Math.floor(Math.random() * 3) + 1;
            switch (choiceComputer) {
                case 1: return "rock";
                case 2: return "paper";
                case 3: return "scissor";
            }
        }

        //Play Round

        function playRound(humanChoice) {
            const computerChoice = getComputerChoice();
            console.log(`Computer Chose:${computerChoice}\nUser Chose:${humanChoice}\n`);
            //When Human is Winner
            if (humanChoice === "rock" && computerChoice === "scissor") {
                animateLoserButtonColor(document.getElementById("computer-" + computerChoice));
                return "user";
            }
            else if (humanChoice === "paper" && computerChoice === "rock") {
                animateLoserButtonColor(document.getElementById("computer-" + computerChoice));
                return "user";
            }
            else if (humanChoice === "scissor" && computerChoice === "paper") {
                animateLoserButtonColor(document.getElementById("computer-" + computerChoice));
                return "user";
            }

            //When Computer is Winnner
            else if (humanChoice === "rock" && computerChoice === "paper") {
                animateWinnerButtonColor(document.getElementById("computer-" + computerChoice));
                return "computer";
            }
            else if (humanChoice === "paper" && computerChoice === "scissor") {
                animateWinnerButtonColor(document.getElementById("computer-" + computerChoice));
                return "computer";
            }
            else if (humanChoice === "scissor" && computerChoice === "rock") {
                animateWinnerButtonColor(document.getElementById("computer-" + computerChoice));
                return "computer";
            }
            else if (humanChoice === computerChoice) {
                animateTieButtonColor(document.getElementById("computer-" + computerChoice));
                return "tie";
            }
            else {
                return "invalid";
            }
        }


        // if(computerScore>humanScore)
        //     console.log(`You Lose Computer is the Winner\t\t Human:${humanScore},Computer:${computerScore}`);
        // else if(humanScore>computerScore)
        //     console.log(`Yay You Won\t\t Human:${humanScore},Computer:${computerScore}`);
        // else if(humanScore===computerScore)
        //     console.log(`Oh! It's a tie!!\t\t Human:${humanScore},Computer:${computerScore}`);
    </script>
</body>

</html>